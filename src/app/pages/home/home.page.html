<ion-header class="ion-no-border">
  <ion-toolbar mode="md" color="primary">
    <ion-buttons slot="start">
      <ion-avatar slot="start">
        <img src="../../../assets/images/avatar/4.jpg" />
      </ion-avatar>
    </ion-buttons>
    <ion-title>
      <ion-label class="inbox-status">{{ 'COMMON.WELCOME' | translate }}</ion-label>
      <ion-label class="inbox-name">{{userName || ('COMMON.USER' | translate)}}</ion-label>
    </ion-title>
    <ion-buttons slot="end" class="home-header-buttons">
      <ion-button (click)="goToNotifications()">
        <ion-icon slot="icon-only" name="notifications-outline"></ion-icon>
      </ion-button>
      <ion-button (click)="goToLifeWheel()">
        <ion-icon slot="icon-only" name="flower-outline"></ion-icon>
      </ion-button>
      <ion-button (click)="showWish()">
        <ion-icon slot="icon-only" name="gift-outline"></ion-icon>
        <ion-badge *ngIf="hasUnreadWish" color="danger" class="wish-badge">!</ion-badge>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">

  <!-- Календар -->
  <div class="calendar-strip" (click)="goToCalendar()">
    <div class="week-days">
      <div *ngFor="let day of weekDays" 
           class="day-item" 
           [class.current]="isCurrentDay(day.date)"
           [class.marked]="day.marked">
        <span class="day-name">{{ day.name }}</span>
        <span class="day-number">{{ day.date }}</span>
      </div>
    </div>
  </div>

  <!-- Челендж -->
  <div class="challenge-phase">
    <div class="phase-circle">
      <h2>{{ 'HOME.CURRENT_CHALLENGE' | translate }}</h2>
      <h1>40 {{ 'CHALLENGES.DAYS' | translate }} CHALLENGE</h1>
      <p>{{ 'CHALLENGES.DAY' | translate }} 15 {{ 'CHALLENGES.OF' | translate }} 40</p>
      <div class="challenge-tasks">
        <div class="task-item" [class.completed]="task.completed" *ngFor="let task of dailyTasks">
          <ion-icon [name]="task.icon"></ion-icon>
          <span>{{ task.name }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Статистика -->
  <div class="stats-grid">
    <div class="stat-item" (click)="goToHabit('steps')">
      <ion-icon name="footsteps-outline"></ion-icon>
      <h3>{{ 'PROFILE.STEPS' | translate }}</h3>
      <h2>12,345</h2>
    </div>
    <div class="stat-item" (click)="goToHabit('sleep')">
      <ion-icon name="moon-outline"></ion-icon>
      <h3>{{ 'PROFILE.SLEEP' | translate }}</h3>
      <h2>7:30 {{ 'PROFILE.HOURS' | translate }}</h2>
    </div>
    <div class="stat-item" (click)="goToHabit('water')">
      <ion-icon name="water-outline"></ion-icon>
      <h3>{{ 'HOME.HYDRATION_LEVEL' | translate }}</h3>
      <h2>1.5 L</h2>
    </div>
  </div>

  <!-- Статус гідратації -->
  <div class="status-card hydration" (click)="goToHabit('water')">
    <ion-icon name="water-outline"></ion-icon>
    <div class="status-info">
      <h3>{{ 'HOME.HYDRATION_LEVEL' | translate }}: 25%</h3>
      <p>{{ 'HOME.NEED_MORE_WATER' | translate }}</p>
    </div>
  </div>
</ion-content>
