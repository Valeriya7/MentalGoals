<ion-content [fullscreen]="true" class="ion-padding">
 <!-- <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Questions</ion-title>
    </ion-toolbar>
  </ion-header>-->

  <div *ngIf="questions.length > 0">

    <ion-progress-bar [value]="(currentSlideIndex + 1) / questions.length"></ion-progress-bar>
    <p>{{ ((currentSlideIndex + 1) / questions.length * 100) | number:'1.0-0' }}% completed</p>

    <ion-img class="slider-image" src="assets/images/sliders/{{currentIndex}}.jpg"></ion-img>

    <div class="question-container">
      <h2>{{ questions[currentIndex].question }}</h2>
      <ion-radio-group class="radio-group" [(ngModel)]="userAnswers[questions[currentIndex].id]" (ionChange)="onAnswerChange(questions[currentIndex].question)">
        <ion-radio *ngFor="let option of questions[currentIndex].options; let options_id = index" [value]="{option, options_id}">
          {{ option }}
        </ion-radio>

      </ion-radio-group>

    </div>

    <ion-button expand="block" shape="round" color="primary" *ngIf="currentSlideIndex < questions.length - 1" (click)="nextQuestion()" [disabled]="!isAnswerSelected()">
      Next
    </ion-button>

    <ion-button expand="block" shape="round" *ngIf="currentSlideIndex == questions.length-1" (click)="submitAnswers()" [disabled]="!isAnswerSelected()">Sent Answers</ion-button>

    <!-- Кнопка для пропуску Firebase (для тестування) -->
    <ion-button expand="block" shape="round" color="secondary" *ngIf="currentSlideIndex == questions.length-1" (click)="skipFirebaseAndNavigate()" [disabled]="!isAnswerSelected()">
      Skip Firebase & Go Home
    </ion-button>

    <!--
    <ion-button expand="full" color="primary" (click)="nextQuestion('yes')">Yes</ion-button>
    <ion-button expand="full" color="secondary" (click)="nextQuestion('no')">No</ion-button>
    -->
  </div>
  <div *ngIf="questions.length === 0">
    <ion-spinner></ion-spinner>
  </div>
</ion-content>
